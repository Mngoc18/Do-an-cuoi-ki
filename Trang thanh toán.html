<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Checkout Page</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      background-color: #f5f5f5;
      padding: 20px;
    }
    .container {
      max-width: 1200px;
      width: 100%;
      background-color: #fff;
      padding: 20px;
      display: flex;
      flex-wrap: wrap;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .left, .right {
      padding: 20px;
    }
    .left {
      flex: 2;
    }
    .right {
      flex: 1;
      border-left: 1px solid #ddd;
    }
    h1 {
      font-size: 24px;
      margin-bottom: 10px;
    }
    h3 {
      font-size: 18px;
      margin-bottom: 10px;
    }
    .section input, .section select, .section button {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .section button {
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
    }
    .section button:disabled {
      background-color: #ddd;
      cursor: not-allowed;
    }
    .order-summary {
      font-size: 14px;
    }
    .order-summary h3 {
      font-size: 16px;
      margin-bottom: 10px;
    }
    .order-summary .item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
    }
    .order-summary .item img {
      width: 50px;
      height: 50px;
      object-fit: cover;
      margin-right: 10px;
    }
    .order-summary .item-details {
      flex: 1;
    }
    .order-summary .total {
      font-weight: bold;
      margin-top: 10px;
    }
    .order-summary .promo-code {
      margin-top: 10px;
      text-align: center;
    }
    .order-summary .promo-code a {
      text-decoration: none;
      color: #000;
      font-weight: bold;
    }
    .delivery-option {
      display: none;
      margin-top: 20px;
    }
    .delivery-option select {
      width: 100%;
    }
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }
      .right {
        border-left: none;
        border-top: 1px solid #ddd;
      }
    }
    /* Cải thiện giao diện của nút "TIẾP" */
#nextButton {
  width: 100%;
  padding: 15px;
  font-size: 18px;
  font-weight: bold;
  background-color: black; 
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s ease, transform 0.2s ease;
  margin-top: 20px;
  text-align: center;
}

/* Hiệu ứng khi hover (di chuột) lên nút */
#nextButton:hover {
  background-color: black; /* Màu nền khi hover */
  transform: scale(1.05); /* Phóng to nút khi hover */
}

/* Hiệu ứng khi click (active) */
#nextButton:active {
  background-color: black; /* Màu nền khi click */
  transform: scale(0.98); /* Thu nhỏ nút khi click */
}

/* Hiệu ứng khi nút bị vô hiệu hóa */
#nextButton:disabled {
  background-color: #ddd; /* Màu nền khi disabled */
  color: #aaa; /* Màu chữ khi disabled */
  cursor: not-allowed; /* Thay đổi con trỏ khi disabled */
}

    #shippingOption {
  width: 100%;
  padding: 12px;
  margin: 10px 0;
  border: 2px solid #ddd;
  border-radius: 5px;
  font-size: 16px;
  background-color: #fff;
  color: #333;
  box-sizing: border-box;
  transition: all 0.3s ease;
}

#shippingOption:focus {
  border-color: #4CAF50;
  outline: none;
  box-shadow: 0 0 8px rgba(76, 175, 80, 0.5);
}

/* Cải thiện giao diện của các option */
#shippingOption option {
  padding: 10px;
  font-size: 16px;
}

/* Cải thiện giao diện của nút "Xác nhận" */
input[type="button"] {
  width: 100%;
  padding: 14px;
  margin-top: 15px;
  border: none;
  background-color: rgb(87, 75, 75);
  color: white;
  font-size: 18px;
  font-weight: bold;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

input[type="button"]:hover {
  background-color: black;
}

input[type="button"]:active {
  background-color: black;
}

input[type="button"]:disabled {
  background-color: #ddd;
  cursor: not-allowed;
}
.promo-code {
            margin-top: 20px;
            font-size: 14px;
            cursor: pointer;
        }
.promo-code:hover {
  text-decoration: underline;
}
.promo-input {
    margin-top: 10px;
    display: none;
    padding: 10px;
    background-color: #f7f7f7;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.promo-input input {
    width: 100%;
    padding: 10px;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 5px;
    margin-bottom: 10px;
    box-sizing: border-box;
    outline: none;
    transition: border-color 0.3s;
}

.promo-input input:focus {
    border-color: #007bff;
}

.promo-input button {
    width: 100%;
    padding: 12px;
    background-color: rgb(62, 54, 54);
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s;
}
.total {
  margin-bottom: 10px;
}

.promo-input button:hover {
    background-color: black;
}
  </style>
</head>
<body>
  <div class="container">
    <div class="left">
      <h1>THANH TOÁN</h1>
      <p>(2 các sản phẩm) 4.800.000₫</p>

      <div class="section">
        <h3>LIÊN HỆ</h3>
        <input required type="email" value="ngdoquanghung1112@gmail.com"/>
      </div>
      
      <div class="section">
        <h3>THÔNG TIN KHÁCH HÀNG</h3>
        <p>Địa chỉ giao hàng</p>
        <input placeholder="Tên *" required type="text"/>
        <input placeholder="Họ *" required type="text"/>
        <input placeholder="Số nhà/Tên đường *" required type="text"/>
        <input placeholder="Tên tòa nhà/Số tầng..." type="text"/>
        <!-- Thành phố -->
        <select id="citySelect" required="">
            <option value="">Chọn Thành phố/Tỉnh</option>
            <option value="hanoi">Hà Nội</option>
            <option value="hochiminh">Hồ Chí Minh</option>
            <option value="danang">Đà Nẵng</option>
            <!-- Thêm các thành phố khác nếu cần -->
          </select>
          <!-- Quận (Phụ thuộc vào Thành phố) -->
          <select id="districtSelect" required="" disabled>
            <option value="">Chọn Quận</option>
          </select>
        <input placeholder="Phường *" required type="text"/>
        <input placeholder="Mã bưu chính" type="number"/>
        <p>Quốc gia: Việt Nam</p>
        <input placeholder="Số Điện Thoại *" required type="number"/>
      </div>

      <div class="section">
        <button id="nextButton" onclick="showDeliveryOptions()" disabled>TIẾP</button>
      </div>
    </div>

    <div class="right">
      <div class="order-summary">
        <h3>ĐƠN HÀNG CỦA BẠN</h3>
        <div class="item">
          <span>2 sản phẩm</span>
        </div>
        <div class="promo-code" onclick="togglePromoInput()">SỬ DỤNG MÃ KHUYẾN MÃI</div>
            <div class="promo-input">
                <input type="text" placeholder="Nhập mã khuyến mãi" id="promo-code" />
                <button onclick="applyPromoCode()">Áp dụng</button>
            </div>
            <div class="total">
              <span>Tổng</span>
              <span id="totalPrice">4.800.000₫</span>
          </div>
        <div class="item">
          <img alt="Giày cao gót phối si vân" height="50" src="/Users/admin/Downloads/Ảnh giày cao gót/Giày cao gót phối si vân/Giày cao gót phối si vân trắng 1.webp" width="50"/>
          <div class="item-details">
            <p>Giày cao gót phối si vân</p>
            <p>800.000₫</p>
            <p>Kích Cỡ: 6 UK / Số lượng: 1</p>
            <p>Màu sắc: Trắng</p>
          </div>
        </div>
        <div class="item">
          <img alt="Giày cao gót xi phối khoá trang trí" height="50" src="/Users/admin/Downloads/Ảnh giày cao gót/Giày cao gót xi phối khoá trang trí/Giày cao gót xi phối khoá trang trí đen 2.webp" width="50"/>
          <div class="item-details">
            <p>Giày cao gót xi phối khoá trang trí/p>
            <p>1.600.000₫</p>
            <p>Kích Cỡ: 7.5 UK / Số lượng: 1</p>
            <p>Màu sắc: Đen</p>
          </div>
        </div>
        <div class="delivery-option" id="deliveryOption">
          <h3>Chọn hình thức vận chuyển</h3>
          <select id="shippingOption" onchange="updateShippingCost()">
              <option value="0">Giao hoả tốc - 100.000₫</option>
              <option value="1">Giao tiết kiệm - 50.000₫</option>
              <option value="2">Nhận tại cửa hàng - miễn phí</option>
          </select>
          <input type="button" value="Xác nhận" onclick="confirmDeliveryOption()">
        </div>
        <div class="order-summary">
          <div class="item">
              <span>Giao hàng</span>
              <span id="shippingCost">Miễn phí</span>
          </div>
      </div>
      </div>
    </div>
  <script>
    // Kiểm tra tất cả các trường nhập liệu
function checkAllFields() {
  const inputs = document.querySelectorAll('.left input[required]');
  let allFilled = true;
  
  inputs.forEach(input => {
    if (!input.value) {
      allFilled = false;
      console.log('Trường chưa được điền:', input);
    }
  });

  // Kiểm tra select (nếu cần)
  const citySelect = document.getElementById('citySelect');
  const districtSelect = document.getElementById('districtSelect');
  if (citySelect && citySelect.value === "") {
    allFilled = false; // Nếu chưa chọn thành phố
  }
  if (districtSelect && districtSelect.value === "") {
    allFilled = false; // Nếu chưa chọn quận
  }

  // Kích hoạt nút "Tiếp" nếu tất cả các trường đã được điền
  document.getElementById("nextButton").disabled = !allFilled;
}

    // Hiển thị phần lựa chọn giao hàng
    function showDeliveryOptions() {
      const deliveryOption = document.getElementById("deliveryOption");
      deliveryOption.style.display = 'block';
    }
    // Cập nhật phí giao hàng
    function updateShippingCost() {
  const shippingOption = document.getElementById('shippingOption').value;
  const shippingCost = document.getElementById('shippingCost');
  const totalPrice = document.getElementById('totalPrice');

  let cost = 0;
  
  switch (shippingOption) {
    case 'fast':
      cost = 100000;
      break;
    case 'standard':
      cost = 50000;
      break;
    case 'pickup':
      cost = 0;
      break;
    default:
      cost = 0;
      break;
  }

  // Cập nhật phí giao hàng và tổng giá
  shippingCost.textContent = cost === 0 ? 'Miễn phí' : cost + '₫';
  totalPrice.textContent = (4800000 + cost) + '₫';
}

    // Lắng nghe sự thay đổi trên các trường nhập liệu để kiểm tra
    const inputs = document.querySelectorAll('.left input[required], .left select');
    inputs.forEach(input => {
      input.addEventListener('input', checkAllFields);
    });

    // Kiểm tra trạng thái ban đầu của các trường nhập liệu
    checkAllFields();
    // Danh sách các quận theo thành phố
const districts = {
  hanoi: ['Ba Đình', 'Hoàn Kiếm', 'Tây Hồ', 'Cầu Giấy','Long Biên'],
  hochiminh: ['Quận 1','Quận 2','Quận 3', 'Quận 4','Quận 5','Quận 6','Quận 7', 'Quận 8','Tân Bình','Gò Vấp','Bình Thạnh',''],
  danang: ['Hải Châu', 'Sơn Trà', 'Ngũ Hành Sơn', 'Cẩm Lệ'],
  // Thêm các thành phố và quận khác vào đây nếu cần
};
// Toggle the promo input field visibility
function togglePromoInput() {
            const promoInput = document.querySelector('.promo-input');
            promoInput.style.display = promoInput.style.display === 'none' || promoInput.style.display === '' ? 'block' : 'none';
        }

        // Handle promo code application
        function applyPromoCode() {
            const promoCode = document.getElementById('promo-code').value;
            if (promoCode) {
                alert('Mã khuyến mãi ' + promoCode + ' đã được áp dụng!');
                // Logic to apply the promo code goes here (e.g., discount calculations)
            } else {
                alert('Vui lòng nhập mã khuyến mãi.');
            }
        }

// Hàm cập nhật các quận khi người dùng chọn thành phố
function updateDistricts() {
  const citySelect = document.getElementById('citySelect');
  const districtSelect = document.getElementById('districtSelect');
  
  // Lấy thành phố người dùng chọn
  const selectedCity = citySelect.value;
  
  // Làm trống danh sách quận
  districtSelect.innerHTML = '<option value="">Chọn Quận</option>';
  
  // Nếu người dùng chọn thành phố, cập nhật các quận tương ứng
  if (selectedCity && districts[selectedCity]) {
    // Kích hoạt select quận
    districtSelect.disabled = false;
    
    // Thêm các quận vào select
    districts[selectedCity].forEach(district => {
      const option = document.createElement('option');
      option.value = district;
      option.textContent = district;
      districtSelect.appendChild(option);
    });
  } else {
    // Nếu không chọn thành phố, vô hiệu hóa select quận
    districtSelect.disabled = true;
  }
}

// Lắng nghe sự thay đổi khi người dùng chọn thành phố
document.getElementById('citySelect').addEventListener('change', updateDistricts);

// Gọi hàm lần đầu để đảm bảo các quận được cập nhật khi load trang (nếu cần)
updateDistricts();
function updateShippingCost() {
    const shippingOption = document.getElementById('shippingOption').value;
    const shippingCostSpan = document.getElementById('shippingCost');
    const totalPriceSpan = document.getElementById('totalPrice');
    
    const productTotal = 4800000; // Tổng tiền sản phẩm ban đầu (giá trị tĩnh hoặc từ cơ sở dữ liệu)
    let shippingCost = 0;

    // Tính phí giao hàng dựa trên phương thức vận chuyển
    switch (shippingOption) {
        case '0': // Giao hoả tốc
            shippingCost = 100000;
            shippingCostSpan.textContent = '100.000₫';
            break;
        case '1': // Giao tiết kiệm
            shippingCost = 50000;
            shippingCostSpan.textContent = '50.000₫';
            break;
        case '2': // Nhận tại cửa hàng
            shippingCost = 0;
            shippingCostSpan.textContent = 'Miễn phí';
            break;
        default:
            shippingCost = 0;
            shippingCostSpan.textContent = 'Miễn phí';
    }

    // Cập nhật tổng tiền
    const total = productTotal + shippingCost;
    totalPriceSpan.textContent = `${total.toLocaleString()}₫`;
}

function confirmDeliveryOption() {
    alert('Phương thức vận chuyển đã được chọn.');
}

  </script>
</body>
</html>
